{
  "name": "auth/multi-factor_authentication/can_be_disabled.json",
  "interactions": [
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/signup/email-password",
        "headers": {
          "content-type": "application/json; charset=utf-8"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"email\":\"user-1@nhost.io\",\"password\":\"password-1\"}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Mon, 07 Feb 2022 02:31:22 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "913",
          "x-download-options": "noopen",
          "etag": "W/\"391-27RN6Am5rRV6yhyIHCvRqZmvszE\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"session\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiNWUyMjA1OTAtZDNjZC00ZTlkLTlmMDAtOWRlNzY3Yzg4MzhmIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6IjVlMjIwNTkwLWQzY2QtNGU5ZC05ZjAwLTlkZTc2N2M4ODM4ZiIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQ0MjAxMDgyLCJleHAiOjE2NDQyMDE5ODJ9.lKBRfEOzL0Bt3WfKJLwHPexTenNrtvBTfjTu7GNuTNY\",\"accessTokenExpiresIn\":900,\"refreshToken\":\"4b574760-835f-4949-9656-e102386262d0\",\"user\":{\"id\":\"5e220590-d3cd-4e9d-9f00-9de767c8838f\",\"createdAt\":\"2022-02-07T02:31:22.656895+00:00\",\"displayName\":\"user-1@nhost.io\",\"avatarUrl\":\"https://s.gravatar.com/avatar/d86c12c3233e91ec90869a1f874cdf0e?r=g&default=blank\",\"locale\":\"en\",\"email\":\"user-1@nhost.io\",\"isAnonymous\":false,\"defaultRole\":\"user\",\"roles\":[\"user\",\"me\"]}},\"mfa\":null}"
        }
      }
    },
    {
      "request": {
        "method": "get",
        "uri": "http://localhost:1337/v1/auth/mfa/totp/generate",
        "headers": {
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiNWUyMjA1OTAtZDNjZC00ZTlkLTlmMDAtOWRlNzY3Yzg4MzhmIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6IjVlMjIwNTkwLWQzY2QtNGU5ZC05ZjAwLTlkZTc2N2M4ODM4ZiIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQ0MjAxMDgyLCJleHAiOjE2NDQyMDE5ODJ9.lKBRfEOzL0Bt3WfKJLwHPexTenNrtvBTfjTu7GNuTNY"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Mon, 07 Feb 2022 02:31:22 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "4317",
          "x-download-options": "noopen",
          "etag": "W/\"10dd-isL9ZtybqKigEvGgkhZNe6HvBg0\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"imageUrl\":\"data:image/png;base64,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\",\"totpSecret\":\"OETSYZYGJJQCURDQ\"}"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/user/mfa",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiNWUyMjA1OTAtZDNjZC00ZTlkLTlmMDAtOWRlNzY3Yzg4MzhmIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6IjVlMjIwNTkwLWQzY2QtNGU5ZC05ZjAwLTlkZTc2N2M4ODM4ZiIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQ0MjAxMDgyLCJleHAiOjE2NDQyMDE5ODJ9.lKBRfEOzL0Bt3WfKJLwHPexTenNrtvBTfjTu7GNuTNY"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"code\":\"979200\",\"activeMfaType\":\"totp\"}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Mon, 07 Feb 2022 02:31:22 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "text/html; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "2",
          "x-download-options": "noopen",
          "etag": "W/\"2-nOO9QiTIwXgNtWtBJezz8kv3SLc\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "OK"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/user/mfa",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiNWUyMjA1OTAtZDNjZC00ZTlkLTlmMDAtOWRlNzY3Yzg4MzhmIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6IjVlMjIwNTkwLWQzY2QtNGU5ZC05ZjAwLTlkZTc2N2M4ODM4ZiIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQ0MjAxMDgyLCJleHAiOjE2NDQyMDE5ODJ9.lKBRfEOzL0Bt3WfKJLwHPexTenNrtvBTfjTu7GNuTNY"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"code\":\"979200\",\"activeMfaType\":null}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Mon, 07 Feb 2022 02:31:22 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "text/html; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "2",
          "x-download-options": "noopen",
          "etag": "W/\"2-eoX0dku9ba8cNUXvu/DyeabcC+s\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "ok"
        }
      }
    }
  ]
}